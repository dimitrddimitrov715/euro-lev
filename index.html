<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>Евро ↔ Лев</title>
<style>
body { font-family: Arial; background:#f5f5f5; padding:20px; }
.box { background:#fff; padding:15px; max-width:320px; border:1px solid #ccc; }
input, select, button {
  width:100%; padding:10px; margin-top:10px; font-size:16px;
}
button { background:#0057b7; color:#fff; border:none; }
</style>
</head>
<body>

<div class="box">
<h2>Евро ↔ Лев</h2>

<input id="amount" type="number" placeholder="Сума">
<select id="mode">
  <option value="eur">EUR → BGN</option>
  <option value="bgn">BGN → EUR</option>
</select>

<input id="paid_bgn" type="number" placeholder="Платено в лева (по избор)">
<input id="paid_eur" type="number" placeholder="Платено в евро (по избор)">
<button onclick="calc()">Изчисли</button>
<div id="result"></div>
</div>

<script>
const RATE = 1.95583;
function calc(){
  const a = Number(amount.value);
  const modeVal = mode.value;
  const paidBGN = Number(paid_bgn.value);
  const paidEUR = Number(paid_eur.value);

  if(!a){ result.innerText="Въведи сума"; return; }

  // Изчисляваме сумата в BGN и EUR
  let sumBGN, sumEUR;
  if(modeVal==="eur"){
    sumEUR = a;
    sumBGN = a * RATE;
  } else {
    sumBGN = a;
    sumEUR = a / RATE;
  }

  let t = `Сума: ${sumBGN.toFixed(2)} BGN / ${sumEUR.toFixed(2)} EUR`;

  // Изчисляваме ресто
  let totalPaidBGN = paidBGN + paidEUR * RATE;
  if(totalPaidBGN){
    if(totalPaidBGN >= sumBGN){
      let changeBGN = totalPaidBGN - sumBGN;
      let changeEUR = changeBGN / RATE;
      t += ` | Ресто: ${changeBGN.toFixed(2)} BGN / ${changeEUR.toFixed(2)} EUR`;
    } else {
      t += " | Недостатъчно платено";
    }
  }

  result.innerText = t;
}
</script>

</body>
</html>
